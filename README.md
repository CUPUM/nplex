# Nplex

## General

### See it live

:pick: Under construction :pick:

### Stack

-   [SvelteKit](https://kit.svelte.dev/) as the SSR-capable frontend framework
    -   The targeted distribution environement is Nodejs, thus we are here using the _SvelteKit_ ecosystem's [node adapter](https://kit.svelte.dev/docs#adapters)
-   [Supabase](https://supabase.io/) for the PostgreSQL database and authentication services
    -   [PostGIS](https://postgis.net/) extension for the GIS related types and functions

## Getting started

### Setting things up

After cloning the repo, initialize the project and its dependencies locally:

```sh
pnpm install
```

### Developing

Once you've installed the dependencies, you can start a development server:

```sh
pnpm dev

# append the optional "-- --open" flag to either of these commands if you want
# to automatically open the app in a new browser tab once the server has started
```

#### Icons

The [icons definition](src/utils/icons/icons.ts) used throughout the app is generated by [a typescript instruction](scripts/PARSE_ICONS.ts) that parses the svg files found in [src/utils/icons](src/utils/icons).

This script runs at build time, but you can also run it manually, on demand, to quickly view the effects of your changes:

```sh
pnpm icons

# or, if you want to watch the script file and the icons folder's content
# to automatically re-execute the procedure on change:

pnpm icons:watch
```

## Using this project

### Building

In the long run, the project's `/dist` build should be provided as a dockerized application wrapped with a minimal Nodejs-on-Linux-architecture image to reduce risks of discrepency problems between developement and production environments' node versions and other root dependencies. The said docker image should also contain the proper vscode configurations and extensions to facilitate the predefined setup of a dev container.

To build the application:

```sh
pnpm build
```

### Previewing a build

You can preview the built app contained in the `build` directory:

```sh
pnpm preview
```

:warning: Note that the `preview` command should **not** be used to serve the app in production.

## Deploying

Mockups of the project will temporarily be deployed to Heroku until the CalculCanada server is properly set up.

```sh
# Deployment procedure
```

### CI/CD pipeline within GitHub

\_**To do**: set GitHub actions and/or necessary webhooks to link with deployement destination and update distribution builds.

## Additionnal ressources

## Notes
