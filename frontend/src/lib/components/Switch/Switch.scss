@use 'utils' as *;

.switch {
	--switch-inset: var(--ui-inset-md);
	--switch-size: var(--ui-block-lg);
	--switch-radius: var(--ui-radius-md);
	--switch-gutter: 0px;
	--switch-direction: row;
	--switch-border: 0px solid transparent;
	flex: none;
	position: relative;
	display: inline-flex;
	flex-direction: var(--switch-direction);
	gap: var(--switch-gutter);
	background-color: var(--switch-background);
	color: var(--switch-color);
	padding: var(--switch-inset);
	border-radius: var(--switch-radius);
	outline: var(--ui-outline-inactive);
	transition: all 0.1s ease-out;

	&::after {
		pointer-events: none;
		content: '';
		position: absolute;
		inset: 0;
		border-radius: inherit;
		border: var(--switch-border);
		transition: all 0.1s ease-out;
	}

	&.column {
		--switch-direction: column;
	}

	&:focus-within,
	&:has(:active) {
		outline: var(--ui-outline-active);
	}
}

.switch-thumb {
	// position: absolute;
	background-color: var(--switch-thumb-background);
	border-radius: calc(var(--switch-radius) - var(--switch-inset));
	transition: all 0.15s var(--ui-ease-out);
}

.compact {
	--switch-radius: 99em;
	--switch-inset: var(--ui-inset-sm);
	--switch-size: var(--ui-block-md);
}

// Default variant.
.default {
	--switch-background: #{col(fg, 500, 0.05)};
	--switch-color: #{col(fg, 000)};
	--switch-thumb-background: #{col(fg, 300)};
}

// Outlined variant.
.outlined {
	--switch-color: #{col(fg, 000)};
	--switch-border: var(--ui-border-size) solid #{col(fg, 100, 0.2)};
	--switch-thumb-background: #{col(fg, 300)};
	outline-color: transparent !important;

	&:hover {
		--switch-color: #{col(fg, 500)};
		--switch-border: var(--ui-border-size) solid #{col(fg, 100, 0.5)};
	}
}

// Feature (subtle accent) variant.
.feature {
	--switch-color: #{col(fg, 000)};
	--switch-border: var(--ui-border-size) solid #{col(fg, 500, 0.1)};
	--switch-thumb-background: #{col(primary, 500, 0.25)};
	--ripple-color: #{col(primary, 700)};
	outline-color: transparent !important;

	&:hover,
	&:focus-within {
		--switch-color: #{col(fg, 500)};
		--switch-border: var(--ui-border-size) solid #{col(primary, 700, 0.25)};
	}
}
