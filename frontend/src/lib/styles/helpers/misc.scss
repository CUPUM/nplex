@use '../utils' as *;

/**
 * Make an element rounded.
 * Also applies rounding to --radius property for compat with components
 */
.rounded {
	--radius: 999px;
	border-radius: var(--radius) !important;
}

/**
 * Remove scrollbar but keep scrollability of element with overflow auto or overflow scroll.
 */
.no-scrollbar {
	@include no-scrollbar;
}

/**
 * 1px ruler
 * Use color property to control ruler's background
 */
.rule {
	padding: 0.5px;
	background: currentColor;
	opacity: 0.05;
}

.info {
	color: col(fg, 500);
	opacity: 0.35;
	font-weight: 425;
}

/**
 * Anchors
 */
.link {
	:not(:local-link) {
		// External links
	}
}

/**
 * Loading skeleton.
 * Give a placeholder / suspense element a pulsing gradient animation.
 */
.ui-skeleton {
	--ui-skeleton-color: #{col(fg, 500, 0.05)};
	background: linear-gradient(
		-90deg,
		var(--ui-skeleton-color) 0%,
		transparent 50%,
		var(--ui-skeleton-color) 100%
	);
	background-size: 400% 100%;
	animation: ui-skeleton-pulse 1.25s ease-in-out infinite;

	&-text {
		color: col(fg, 500, 0.05);
		height: 1em;
		border-radius: var(--ui-radius-sm);
		background: linear-gradient(
			-90deg,
			var(--ui-skeleton-color) 0%,
			transparent 50%,
			var(--ui-skeleton-color) 100%
		);
		background-size: 400% 100%;
		animation: ui-skeleton-pulse 1.25s ease-in-out infinite;
	}
}

/**
 * Animate element when focused
 */
.focus-press {
	@include focus-press;
}

/**
 * Animate outline around element when focused
 */
.focus-outline-within,
.focus-outline-visible {
	@mixin focuseoutline {
		&::after {
			pointer-events: none;
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			border-radius: inherit;
			outline: 0px solid col(primary, 300, 0);
			outline-offset: 0px;
			transition: all 0.15s;
		}
		&:focus-within,
		&:focus-visible {
			&::after {
				outline: 2px solid col(primary, 300, 0);
				// outline-offset: 0px;
			}
		}
	}
	// Excluding outlined variants
	&:not(.outlined):not(.dashed) {
		@include focuseoutline;
	}
}
