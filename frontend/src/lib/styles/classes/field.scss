@import '../vars.scss';
@import '../utils/color.scss';

// :disabled
// :empty
// :enabled
// :optional
// :required
// :out-of-range
// :placeholder-shown
// :valid
// :invalid
// :focus-within
// :focus-visible

.ui-field {
	--inset: var(--ui-inset);
	--radius: var(--ui-radius-md);
	// --ui-ripple-color: #{col(primary, 100)};
	position: relative;
	display: inline-flex;
	align-items: center;
	flex-direction: row;
	gap: var(--inset);
	font-weight: 425;
	height: var(--ui-height);
	padding-inline: var(--inset);
	line-height: 1.2;
	border-radius: var(--radius);
	overflow-x: auto;

	&,
	> .ui-label-input {
		> input,
		> select,
		> .ui-input {
			flex: 1;
			position: relative;
			align-self: stretch;
			padding-bottom: 0.2em;
			padding-inline: calc(var(--ui-pad-x) - var(--inset));
			background: transparent;
			text-overflow: ellipsis;

			&::placeholder {
				opacity: 0.25;
				color: currentColor;
			}
		}
	}

	// Wrapper to group label and input, only necessary if label.
	> .ui-label-input {
		position: relative;
		display: flex;
		flex: 1;
		flex-direction: inherit;
		height: 100%;
		margin-left: calc(var(--ui-pad-x) - var(--inset));

		> input,
		> select,
		> .ui-input {
			padding-left: 0;
		}

		legend,
		label {
			top: -0.1em;
			left: 0;
			display: flex;
			flex-direction: row;
			align-items: center;
			height: 100%;
			float: left;
			pointer-events: none;
			text-overflow: ellipsis;
			max-width: 100%;
			position: absolute;
		}
	}

	> .ui-icon {
		font-size: 1.2em;
		margin-inline: calc(var(--ui-pad-x) * 0.5) !important;

		+ input,
		select,
		.ui-input {
			padding-left: 0;
		}
	}

	> .ui-affix {
	}

	//
	// Default
	//
	background: col(fg, 500, 0.05);
	color: col(fg, 100);
	transition: all 0.2s ease-out;
	&:hover {
		color: col(fg, 500);
		background: col(fg, 500, 0.1);
		transition: all 0.1s ease-out;
	}
	&:focus-within {
		color: col(fg, 900);
		background: col(fg, 500, 0.1);
		transition: all 0.1s ease-out;
	}
	&:has(:placeholder-shown) {
	}

	//
	// Outlined
	//
	&.outlined {
	}

	//
	// CTA
	//
	&.cta {
	}
}
