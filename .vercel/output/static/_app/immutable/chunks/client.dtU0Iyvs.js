import"./disclose-version.Bg9kRutz.js";import{a as y,q as M,b as X,s as z,c as q,f as B}from"./template.CYbmh4h0.js";import{i as j}from"./if.C12WoQaB.js";import{c as D}from"./svelte-component.05q_ogwX.js";import{p as l,r as Y,s as L}from"./props.B2871YNw.js";import{t as E}from"./runtime.DjgYXsSk.js";import{s as R,a as G}from"./attributes.BNVf-LtF.js";import{s as H}from"./style.iv2mhl8q.js";import{e as Z,t as S,q as J,s as K}from"./index.B9DhiAzX.js";import{r as F,w as I}from"./entry.BF9yKNlN.js";import{s as N}from"./formData.RN6J9CXK.js";import"./index.De_1-CT6.js";import{t as Q}from"./toasts-provider.CJwvQaTE.js";function A(t){return Array.isArray(t)?t:[t]}function d(t,e,n=0){return n-(t??1)*e}function U(t,{delay:e=0,duration:n=250,easing:c=Z,opacity:f=0,scale:i=1,translate:a=0,rotate:p=0}={}){const r=getComputedStyle(t),u=+r.opacity,b=r.transform==="none"?"":r.transform,_=u*(1-f),g=A(i).map(s=>1-s),v=A(a).map(s=>0-s),m=A(p).map(s=>0-s);return{delay:e,duration:n,easing:c,css:(s,o)=>{const h=`scale(${d(g[0],o,1)}${g[1]==null?"":`,${d(g[1],o,1)}`})`,x=`translate3d(${d(v[0],o)}px,${d(v[1],o)}px,${d(v[2],o)}px)`,w=`rotateX(${d(m[0],o)}deg) rotateY(${d(m[1],o)}deg) rotateZ(${d(m[2],o)}deg)`;return`
			opacity: ${u-_*o};
			transform: ${b} ${h} ${x} ${w};
		`}}}var V=M('<path class="path tail nplex-edl1gw"></path>'),W=M('<svg><path class="path nplex-edl1gw"></path><!></svg>');function P(t,e){let n=l(e,"speed",3,1),c=l(e,"tail",3,!0),f=l(e,"intro",3,!0),i=l(e,"outro",3,!1),a=l(e,"width",3,24),p=l(e,"height",3,24),r=l(e,"viewBox",3,"0 0 24 24"),u=l(e,"preserveAspectRatio",3,"xMidYMid"),b=l(e,"aria-busy",3,!0),_=Y(e,["$$slots","$$events","$$legacy","speed","tail","intro","outro","class","width","height","viewBox","preserveAspectRatio","aria-busy"]);const m="M 12,22 A 10,10 90,1,1 12.01,22 L 2,22 2,2 22,2 22,22 L 2,22 2,12 A 10,10 90,0,1 22,12 L 22,22 2,22 L 2,22 12,2 22,22 Z";var s=W();S(5,s,()=>U,()=>({duration:f()?750:0,scale:.5,rotate:[0,0,-180],opacity:1,easing:Z})),S(6,s,()=>K,()=>({duration:i()?150:0,start:.9,easing:J}));let o;var h=X(s);R(h,"d",m);var x=z(h);j(x,c,w=>{var $=V();R($,"d",m),y(w,$)}),E(()=>{o=G(s,o,{class:`spinner ${e.class??""}`,width:a(),height:p(),viewBox:r(),preserveAspectRatio:u(),..._,"aria-busy":b()},!1,"nplex-edl1gw"),H(s,"--spinner-speed",n())}),y(t,s)}function ut(t,e){let n=Y(e,["$$slots","$$events","$$legacy","busy","icon"]);var c=q(),f=B(c);j(f,()=>e.busy,i=>{P(i,L(()=>n))},i=>{var a=q(),p=B(a);D(p,()=>e.icon,(r,u)=>{u(r,L(()=>n))}),y(i,a)}),y(t,c)}function T(t){return typeof t=="object"&&t!==null&&"content"in t&&typeof t.content=="object"&&t.content!==null&&"body"in t.content&&typeof t.content.body=="string"}function mt(t,{toasts:e=Q,onSubmit:n,onResult:c,...f}={}){let i=I(void 0),a=I(null);const p=N(t,{...f,onSubmit(r){if(i.set(r.submitter??void 0),a.set(r.action),n)return n(r)},onResult(r){if(i.set(void 0),a.set(null),c)return c(r)}});return p.message.subscribe(r=>{T(r)&&e.add(r)}),{...p,submitter:F(i),action:F(a)}}export{ut as I,P as S,mt as e};
