import{B as d,W as y,C as w}from"./runtime.DjgYXsSk.js";import{c as A}from"./attributes.BNVf-LtF.js";import{g as u,i as B}from"./proxy.Cn1c9iIJ.js";import{h as g}from"./template.CYbmh4h0.js";function n(e,f,r,a=r){e.addEventListener(f,r);const _=e.__on_r;_?e.__on_r=()=>{_(),a()}:e.__on_r=a,A()}function L(e,f,r){n(e,"input",()=>{r(m(e)?b(e.value):e.value)}),d(()=>{var a=f();if(g&&e.defaultValue!==e.value){r(e.value);return}m(e)&&a===b(e.value)||e.type==="date"&&!a&&!e.value||(e.value=a??"")})}function O(e,f,r,a,_){var v=r.getAttribute("type")==="checkbox",l=e;let i=!1;if(f!==null)for(var t of f){var h=l;l=h[t],l===void 0&&(l=h[t]=[])}l.push(r),n(r,"change",()=>{var c=r.__value;v&&(c=k(l,c,r.checked)),_(c)},()=>_(v?[]:null)),d(()=>{var c=a();if(g&&r.defaultChecked!==r.checked){i=!0;return}v?(c=c||[],r.checked=u(c).includes(u(r.__value))):r.checked=B(r.__value,c)}),y(()=>{var c=l.indexOf(r);c!==-1&&l.splice(c,1)}),w(()=>{if(l.sort((s,x)=>s.compareDocumentPosition(x)===4?-1:1),i){var c;if(v)c=k(l,c,r.checked);else{var o=l.find(s=>s.checked);c=o==null?void 0:o.__value}_(c)}})}function P(e,f,r){n(e,"change",()=>{var a=e.checked;r(a)}),f()==null&&r(!1),d(()=>{var a=f();e.checked=!!a})}function k(e,f,r){for(var a=new Set,_=0;_<e.length;_+=1)e[_].checked&&a.add(e[_].__value);return r||a.delete(f),Array.from(a)}function m(e){var f=e.type;return f==="number"||f==="range"}function b(e){return e===""?null:+e}export{L as a,O as b,P as c};
