import{w as P,Y as Z,m as W,H as j,Z as ee,x as $,y as F,z as re,_ as ae,C as ne,r as V,$ as H,s as B,a0 as k,a1 as D,q as se,b as K,a2 as fe,a3 as le,O as te,a4 as ie,i as ue,h as ve,a5 as oe}from"./runtime.DjgYXsSk.js";import{i as _e,h,j as Q,k as U,r as de,e as m,l as Ee,g as pe}from"./template.CYbmh4h0.js";let N=null;function ye(n){N=n}function Ce(n,e){return e}function Ae(n,e,a,i){for(var u=[],_=e.length,v=0;v<_;v++)fe(e[v].e,u,!0);var S=_>0&&u.length===0&&a!==null;if(S){var E=a.parentNode;Ee(E),E.append(a),i.clear(),C(n,e[0].prev,e[_-1].next)}le(u,()=>{for(var d=0;d<_;d++){var p=e[d];S||(i.delete(p.k),C(n,p.prev,p.next)),te(p.e,!S)}})}function xe(n,e,a,i,u,_=null){var v={flags:e,items:new Map,first:null},S=(e&Z)!==0;if(S){var E=n;n=h?Q(E.firstChild):E.appendChild(_e())}var d=null;P(()=>{var p=a(),s=W(p)?p:p==null?[]:Array.from(p),A=s.length,f=v.flags;f&D&&!ue(s)&&!(ve in s)&&(f^=D,f&oe&&!(f&H)&&(f^=H));let o=!1;if(h){var g=n.data===j;(g!==(A===0)||U===void 0)&&(de(pe),m(!1),o=!0)}if(h){for(var t=U,c=null,T,r=0;r<A;r++){if(t.nodeType!==8||t.data!==ee){o=!0,m(!1);break}t=Q(t);var l=s[r],w=i(l,r);T=G(t,v,c,null,l,w,r,u,f),v.items.set(w,T),t=t.nextSibling,c=T}if(A>0)for(;t!==n;){var x=t.nextSibling;t.remove(),t=x}}h||ge(s,v,n,u,f,i),_!==null&&(A===0?d?$(d):d=F(()=>_(n)):d!==null&&re(d,()=>{d=null})),o&&m(!0)})}function ge(n,e,a,i,u,_){var L,Y,M,q;var v=(u&ie)!==0,S=(u&(H|k))!==0,E=n.length,d=e.items,p=e.first,s=p,A=new Set,f=null,o=new Set,g=[],t=[],c,T,r,l;if(v)for(l=0;l<E;l+=1)c=n[l],T=_(c,l),r=d.get(T),r!==void 0&&((L=r.a)==null||L.measure(),o.add(r));for(l=0;l<E;l+=1){if(c=n[l],T=_(c,l),r=d.get(T),r===void 0){var w=s?s.e.nodes.start:a;f=G(w,e,f,f===null?e.first:f.next,c,T,l,i,u),d.set(T,f),g=[],t=[],s=f.next;continue}if(S&&Te(r,c,l,u),r.e.f&ae&&($(r.e),v&&((Y=r.a)==null||Y.unfix(),o.delete(r))),r!==s){if(A.has(r)){if(g.length<t.length){var x=t[0],y;f=x.prev;var O=g[0],R=g[g.length-1];for(y=0;y<g.length;y+=1)X(g[y],x,a);for(y=0;y<t.length;y+=1)A.delete(t[y]);C(e,O.prev,R.next),C(e,f,O),C(e,R,x),s=x,f=R,l-=1,g=[],t=[]}else A.delete(r),X(r,s,a),C(e,r.prev,r.next),C(e,r,f===null?e.first:f.next),C(e,f,r),f=r;continue}for(g=[],t=[];s!==null&&s.k!==T;)A.add(s),t.push(s),s=s.next;if(s===null)continue;r=s}g.push(r),f=r,s=r.next}const I=Array.from(A);for(;s!==null;)I.push(s),s=s.next;var b=I.length;if(b>0){var J=u&Z&&E===0?a:null;if(v){for(l=0;l<b;l+=1)(M=I[l].a)==null||M.measure();for(l=0;l<b;l+=1)(q=I[l].a)==null||q.fix()}Ae(e,I,J,d)}v&&ne(()=>{var z;for(r of o)(z=r.a)==null||z.apply()}),V.first=e.first&&e.first.e,V.last=f&&f.e}function Te(n,e,a,i){i&H&&B(n.v,e),i&k?B(n.i,a):n.i=a}function G(n,e,a,i,u,_,v,S,E){var d=N;try{var p=(E&H)!==0,s=(E&D)===0,A=p?s?se(u):K(u):u,f=E&k?K(v):v,o={i:f,v:A,k:_,a:null,e:null,prev:a,next:i};return N=o,o.e=F(()=>S(n,A,f),h),o.e.prev=a&&a.e,o.e.next=i&&i.e,a===null?e.first=o:(a.next=o,a.e.next=o.e),i!==null&&(i.prev=o,i.e.prev=o.e),o}finally{N=d}}function X(n,e,a){for(var i=n.next?n.next.e.nodes.start:a,u=e?e.e.nodes.start:a,_=n.e.nodes.start;_!==i;){var v=_.nextSibling;u.before(_),_=v}}function C(n,e,a){e===null?n.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}export{N as c,xe as e,Ce as i,ye as s};
