var O=Object.defineProperty;var y=i=>{throw TypeError(i)};var P=(i,t,e)=>t in i?O(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var D=(i,t,e)=>P(i,typeof t!="symbol"?t+"":t,e),w=(i,t,e)=>t.has(i)||y("Cannot "+e);var s=(i,t,e)=>(w(i,t,"read from private field"),e?e.call(i):t.get(i)),l=(i,t,e)=>t.has(i)?y("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),C=(i,t,e,o)=>(w(i,t,"write to private field"),o?o.call(i,e):t.set(i,e),e),d=(i,t,e)=>(w(i,t,"access private method"),e);import{p as c}from"./proxy.Cn1c9iIJ.js";import{b,g as n,s as u,Q as I}from"./runtime.DjgYXsSk.js";import{K}from"./constants.BnggNYse.js";var f,p,g,m,a,v,r,h,E,k;class S{constructor({open:t,modal:e,closeOnClickoutside:o,beforeClose:A,onClose:_}={}){l(this,h);l(this,f,b(!0));l(this,p,b(!0));l(this,g);l(this,m);l(this,a,b(!1));l(this,v,b(!1));l(this,r,b());D(this,"dialogAction",t=>{var o,A;u(s(this,r),c(t));const e=this;return this.open&&(this.modal?(o=n(s(this,r)))==null||o.showModal():(A=n(s(this,r)))==null||A.show()),{destroy(){var _,x;(_=n(s(e,r)))==null||_.close(),d(x=e,h,E).call(x)}}});t!=null&&(this.open=t),e!=null&&(s(this,f).v=c(e)),o!=null&&(s(this,p).v=c(o)),C(this,g,A),C(this,m,_),this.close.bind(this),d(this,h,k).bind(this),I(()=>{n(s(this,r))&&(n(s(this,a))?n(s(this,r)).removeAttribute("data-closing"):n(s(this,r)).setAttribute("data-closing","true"))})}get modal(){return n(s(this,f))}set modal(t){u(s(this,f),c(t))}get closeOnClickoutside(){return n(s(this,p))}set closeOnClickoutside(t){u(s(this,p),c(t))}get open(){return n(s(this,a))}set open(t){var e,o;t?(this.modal?(e=n(s(this,r)))==null||e.showModal():(o=n(s(this,r)))==null||o.show(),u(s(this,a),c(t))):this.close()}close(t){return s(this,g)&&!s(this,g).call(this,t)?!1:(u(s(this,a),!1),s(this,m)&&s(this,m).call(this,t),!0)}get dialogAttributes(){const t=this;return{onclick(e){var o;t.closeOnClickoutside&&(n(s(t,v))||t.close(e),d(o=t,h,k).call(o,!1))},oncancel(e){e.preventDefault(),t.close(e)},onkeydown(e){e.key===K.ENTER&&e.preventDefault()}}}get contentAttributes(){const t=this;return{onpointerdown(e){var o;d(o=t,h,k).call(o,!0)},onpointerup(e){var o;d(o=t,h,k).call(o,!0)}}}get triggerAttributes(){const t=this;return{"aria-haspopup":"dialog",onclick(e){const o=!t.open;o?t.open=o:t.close(e)},get"data-state"(){return t.open?"open":"closed"},get"aria-expanded"(){return t.open}}}get closeAttributes(){const t=this;return{onclick(e){e.defaultPrevented||t.close(e)}}}get itemAttributes(){const t=this;return{onclick(e){e.defaultPrevented||t.close(e)}}}}f=new WeakMap,p=new WeakMap,g=new WeakMap,m=new WeakMap,a=new WeakMap,v=new WeakMap,r=new WeakMap,h=new WeakSet,E=function(){u(s(this,r),void 0)},k=function(t){u(s(this,v),c(t))};export{S as D};
