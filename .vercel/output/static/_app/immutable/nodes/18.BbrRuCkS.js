import"../chunks/disclose-version.Bg9kRutz.js";import{c as z,a as h,f as $,t as b,s,b as M}from"../chunks/template.CYbmh4h0.js";import{p as B,t as y,a as F,g as t,d as x,b as K,s as D}from"../chunks/runtime.DjgYXsSk.js";import{p as O}from"../chunks/proxy.Cn1c9iIJ.js";import{s as Q}from"../chunks/snippet.CJwMoSRa.js";import{a as X,b as W,s as Z}from"../chunks/attributes.BNVf-LtF.js";import{t as ee,e as te,f as re}from"../chunks/index.B9DhiAzX.js";import{e as J}from"../chunks/svelte-element.CpFwThLL.js";import{a as k}from"../chunks/actions.DlEPaH3k.js";import{l as E,s as R,p as ae}from"../chunks/props.B2871YNw.js";import{s as oe,a as se}from"../chunks/store.9ZQN09u1.js";import{p as ne}from"../chunks/stores.yKo6NxPo.js";import{l as ie}from"../chunks/link.Dy_8JwlS.js";import{r as j}from"../chunks/ripple.DEHVMGsW.js";import{S as I}from"../chunks/switch-thumb.DPWCig_G.js";import{w as U}from"../chunks/location.C36XgQdx.js";import{s as T}from"../chunks/render.B8uQQetn.js";import{d as L}from"../chunks/misc.BGa3BRog.js";import{I as V}from"../chunks/Icon.Be5s3T4S.js";function ce(c,r){const a=E(r,["children","$$slots","$$events","$$legacy"]);V(c,R({name:"layout-dashboard"},()=>a,{iconNode:[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"}]],children:(o,d)=>{var e=z(),n=$(e);T(n,L(r),{}),h(o,e)},$$slots:{default:!0},$$legacy:!0}))}function de(c,r){const a=E(r,["children","$$slots","$$events","$$legacy"]);V(c,R({name:"map"},()=>a,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(o,d)=>{var e=z(),n=$(e);T(n,L(r),{}),h(o,e)},$$slots:{default:!0},$$legacy:!0}))}function le(c,r){const a=E(r,["children","$$slots","$$events","$$legacy"]);V(c,R({name:"stretch-horizontal"},()=>a,{iconNode:[["rect",{width:"20",height:"6",x:"2",y:"4",rx:"2"}],["rect",{width:"20",height:"6",x:"2",y:"14",rx:"2"}]],children:(o,d)=>{var e=z(),n=$(e);T(n,L(r),{}),h(o,e)},$$slots:{default:!0},$$legacy:!0}))}var ue=b("<!> <!>",1),pe=b("<!> <!>",1),me=b('<menu class="switch self-start rounded-full backdrop-blur-md"><!> <!> <a><!> <!></a></menu>');const l={MASONRY:"masonry",LIST:"list"},m={...l,MAP:"map"};function he(c,r){B(r,!0);const a=oe(),u=()=>se(ne,"$page",a);let o=ae(r,"mode",7);const d={};let e=x(()=>{var i,f;return(f=(i=u().route.id)==null?void 0:i.split("(explore)")[1])!=null&&f.startsWith("/map")?m.MAP:o()});var n=me(),p=M(n);J(p,()=>t(e)===m.MAP?"a":"button",!1,(i,f)=>{var A=()=>{o(l.MASONRY)};let _;y(()=>_=W(i,_,{role:"radio",tabindex:"0",class:"switch-item aspect-square","aria-checked":t(e)===l.MASONRY?!0:void 0,onclick:A,href:t(e)===m.MAP?U("/projects"):void 0},"")),k(i,N=>j(N));var v=ue(),g=$(v);ce(g,{});var S=s(s(g,!0)),P=x(()=>t(e)===l.MASONRY);I(S,{key:d,get current(){return t(P)}}),h(f,v)});var Y=s(s(p,!0));J(Y,()=>t(e)===m.MAP?"a":"button",!1,(i,f)=>{var A=()=>{o(l.LIST)};let _;y(()=>_=W(i,_,{role:"radio",tabindex:"0",class:"switch-item aspect-square","aria-checked":t(e)===l.LIST?!0:void 0,onclick:A,href:t(e)===m.MAP?U("/projects"):void 0},"")),k(i,N=>j(N));var v=pe(),g=$(v);le(g,{});var S=s(s(g,!0)),P=x(()=>t(e)===l.LIST);I(S,{key:d,get current(){return t(P)}}),h(f,v)});var w=s(s(Y,!0));let q;y(()=>q=X(w,q,{role:"radio",tabindex:"0",class:"switch-item aspect-square",...ie(`/projects/map${u().url.search}`),"aria-checked":t(e)===m.MAP?!0:void 0},!0,""));var C=M(w),G=x(()=>t(e)===m.MAP);I(C,{key:d,get current(){return t(G)}});var H=s(s(C,!0));de(H,{}),k(w,i=>j(i)),h(c,n),F()}var fe=b('<article class="group/explore min-h-main-full-height flex flex-col"><!> <aside class="bottom-padding z-front pointer-events-none sticky flex flex-row justify-center text-sm *:pointer-events-auto"><!></aside></article>');function Re(c,r){B(r,!0);let a=K(O(l.MASONRY));const u={capture(){return console.log("capture",t(a)),{projectsViewMode:t(a)}},restore(p){console.log("restore",p),D(a,O(p.projectsViewMode))}};var o=fe(),d=M(o);Q(d,()=>r.children);var e=s(s(d,!0));ee(5,e,()=>re,()=>({y:-6,easing:te,duration:500,opacity:0}));var n=M(e);return he(n,{get mode(){return t(a)},set mode(p){D(a,O(p))}}),y(()=>Z(o,"data-view-mode",t(a))),h(c,o),F({snapshot:u})}export{Re as component};
