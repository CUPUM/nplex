import"../chunks/disclose-version.Bg9kRutz.js";import{c as G,a,t as c,f as F,b as x,s as d,d as Y}from"../chunks/template.CYbmh4h0.js";import{p as H,a as J,t as f,g as B,u as m,d as pt,c as S,s as ut,b as mt}from"../chunks/runtime.DjgYXsSk.js";import{a as w}from"../chunks/render.B8uQQetn.js";import{p as ct}from"../chunks/proxy.Cn1c9iIJ.js";import{a as st}from"../chunks/actions.DlEPaH3k.js";import{b as xt}from"../chunks/this.C2iGNKnu.js";import{s as M}from"../chunks/props.B2871YNw.js";import{s as K,a as A,m as R}from"../chunks/store.9ZQN09u1.js";import{au as yt,av as gt,aw as $t,ax as wt,ay as jt,az as It,n as Pt,ak as Tt,al as kt,a5 as St,an as Ct,a6 as Dt,af as Ot,ao as qt,G as Ft}from"../chunks/messages.CGgarydI.js";import{D as Bt}from"../chunks/dashboard-section-menu.BcI8c8WE.js";import{D as At}from"../chunks/dashboard-sub-header.BBUxUWnj.js";import{S as ot,e as Lt,I as zt}from"../chunks/client.dtU0Iyvs.js";import{a as it}from"../chunks/await.CCLGkKUQ.js";import{i as rt}from"../chunks/if.C12WoQaB.js";import{e as N,i as Gt}from"../chunks/each.CVL6L7bf.js";import{r as Q,a as Z,d as vt}from"../chunks/attributes.BNVf-LtF.js";import{b as nt,a as tt}from"../chunks/input.Bzsu9ohX.js";import{D as U}from"../chunks/dashboard-sub-section.BTSYr39U.js";import{r as ht}from"../chunks/ripple.DEHVMGsW.js";import{T as et}from"../chunks/translations-input.CiuDzysS.js";import{F as at}from"../chunks/field.r2CZdIq6.js";import{t as _t}from"../chunks/index.B9DhiAzX.js";import{s as ft}from"../chunks/presets.B2xsBq4v.js";import{C as Rt}from"../chunks/check.CQ55fSLP.js";var Et=c("<h4> </h4> <p> </p>",1),Ht=c('<label class="button button-dashed"><input type="checkbox" class="visually-hidden"> </label>'),Jt=c("<ul></ul>"),Kt=c("<small> </small>"),Mt=c("<section><h4> </h4> <!></section>"),Nt=c("<div><!></div>"),Qt=c('<p class="opacity-soft italic"> </p>');function Ut(D,o){H(o,!0);const k=K(),n=()=>A(o.form,"$form",k),C=[];U(D,{header:j=>{var v=Et(),u=F(v),I=x(u);f(()=>w(I,yt()));var _=d(d(u,!0)),p=x(_);f(()=>w(p,gt())),a(j,v)},children:(j,v)=>{var u=G(),I=F(u);rt(I,()=>n().typeId!=null,_=>{var p=G(),y=F(p);it(y,()=>o.interventionsByCategories,P=>{var i=Nt(),t=x(i);ot(t,{}),a(P,i)},(P,i)=>{var t=G(),q=F(t);N(q,71,()=>B(i),(b,e)=>m(b).id,(b,e,l)=>{var r=Mt();const g=pt(()=>m(e).interventions.filter($=>n().typeId&&$.typeIds.includes(n().typeId)));var s=x(r),h=x(s),T=d(d(s,!0));rt(T,()=>B(g).length,$=>{var L=Jt();N(L,79,()=>B(g),(V,z)=>`${m(e).id}-${m(V).id}`,(V,z,ve)=>{var W=Ht(),E=x(W);Q(E);var dt,bt=d(E,!0);f(()=>{dt!==(dt=m(z).id)&&(E.value=(E.__value=m(z).id)==null?"":m(z).id),w(bt,` ${m(z).title??""}`)}),st(W,X=>ht(X)),nt(C,[],E,()=>(m(z).id,n().interventionIds),X=>R(o.form,S(n).interventionIds=X,S(n))),a(V,W)}),a($,L)},$=>{var L=Kt(),lt=x(L);f(()=>w(lt,wt())),a($,L)}),f(()=>w(h,m(e).title)),a(b,r)}),a(P,t)}),a(_,p)},_=>{var p=Qt(),y=x(p);f(()=>w(y,$t())),a(_,p)}),a(j,u)},$$slots:{default:!0}}),J()}var Vt=c("<h4> </h4>"),Wt=c('<label><input type="radio"> </label>');function Xt(D,o){H(o,!0);const k=K(),n=()=>A(o.form,"$form",k),C=[];U(D,{header:j=>{var v=Vt(),u=x(v);f(()=>w(u,jt())),a(j,v)},children:(j,v)=>{var u=G(),I=F(u);it(I,()=>o.siteOwnerships,_=>{ot(_,{})},(_,p)=>{var y=G(),P=F(y);N(P,65,()=>B(p),Gt,(i,t,q)=>{var b=Wt(),e=x(b);Q(e);var l,r=d(e,!0);f(()=>{l!==(l=m(t).id)&&(e.value=(e.__value=m(t).id)==null?"":m(t).id),w(r,` ${m(t).title??""}`)}),nt(C,[],e,()=>(m(t).id,n().siteOwnershipId),g=>R(o.form,S(n).siteOwnershipId=g,S(n))),a(i,b)}),a(_,y)}),a(j,u)},$$slots:{default:!0}}),J()}var Yt=c("<h4> </h4>"),Zt=c("<input>"),te=c("<textarea></textarea>"),ee=c("<textarea></textarea>"),ae=c("<!> <!> <!>",1);function re(D,o){H(o,!0);const k=K(),n=()=>A(o.form,"$form",k),C=()=>A(o.constraints,"$constraints",k),O=()=>A(o.errors,"$errors",k);U(D,{class:"items-stretch",header:v=>{var u=Yt(),I=x(u);f(()=>w(I,kt())),a(v,u)},children:(v,u)=>{var I=ae(),_=F(I);at(_,{class:"text-md mx-auto w-full max-w-md",label:i=>{var t=Y(i);f(()=>w(t,St())),a(i,t)},children:(i,t)=>{et(i,{class:"big",children:(b,e)=>{let l=()=>e==null?void 0:e().lang;var r=Zt();Q(r);let g;f(()=>{var s,h,T,$;return g=Z(r,g,{type:"text",class:"input",placeholder:It(void 0,{languageTag:l()}),...(h=(s=C().translations)==null?void 0:s[l()])==null?void 0:h.title,"aria-invalid":($=(T=O().translations)==null?void 0:T[l()])!=null&&$.title?!0:void 0},!0,"")}),tt(r,()=>n().translations[l()].title,s=>R(o.form,S(n).translations[l()].title=s,S(n))),a(b,r)}})},$$slots:{default:!0}});var p=d(d(_,!0));at(p,{class:"mx-auto w-full max-w-md",label:i=>{var t=Y(i);f(()=>w(t,Ct())),a(i,t)},children:(i,t)=>{et(i,{children:(b,e)=>{let l=()=>e==null?void 0:e().lang;var r=te();vt(r);let g;f(()=>{var s,h,T,$;return g=Z(r,g,{rows:"5",class:"input",placeholder:Pt(void 0,{languageTag:l()}),...(h=(s=C().translations)==null?void 0:s[l()])==null?void 0:h.summary,"aria-invalid":($=(T=O().translations)==null?void 0:T[l()])!=null&&$.summary?!0:void 0},!0,"")}),tt(r,()=>n().translations[l()].summary,s=>R(o.form,S(n).translations[l()].summary=s,S(n))),a(b,r)}})},$$slots:{default:!0}});var y=d(d(p,!0));at(y,{class:"mx-auto w-full max-w-md",label:i=>{var t=Y(i);f(()=>w(t,Dt())),a(i,t)},children:(i,t)=>{et(i,{children:(b,e)=>{let l=()=>e==null?void 0:e().lang;var r=ee();vt(r);let g;f(()=>{var s,h,T,$;return g=Z(r,g,{rows:"10",class:"input",placeholder:Tt(void 0,{languageTag:l()}),...(h=(s=C().translations)==null?void 0:s[l()])==null?void 0:h.description,"aria-invalid":($=(T=O().translations)==null?void 0:T[l()])!=null&&$.description?!0:void 0},!0,"")}),tt(r,()=>n().translations[l()].description,s=>R(o.form,S(n).translations[l()].description=s,S(n))),a(b,r)}})},$$slots:{default:!0}}),a(v,I)},$$slots:{default:!0}}),J()}var se=c("<h4> </h4>"),oe=c('<div class="switch-thumb"></div>'),ie=c('<label class="switch-item"><input type="radio" name="typeId" class="sr-only"> <!> </label>'),ne=c('<div class="switch-item"><!></div>'),le=c('<menu class="switch self-center"><!></menu>');function de(D,o){H(o,!0);const k=K(),n=()=>A(o.form,"$form",k),C=[];U(D,{class:"items-center",header:j=>{var v=se(),u=x(v);f(()=>w(u,Ot())),a(j,v)},children:(j,v)=>{var u=le(),I=x(u);it(I,()=>o.types,_=>{var p=ne(),y=x(p);ot(y,{}),a(_,p)},(_,p)=>{var y=G(),P=F(y);N(P,69,()=>B(p),(i,t)=>m(i).id,(i,t,q)=>{var b=ie(),e=x(b);Q(e);var l,r=d(d(e,!0));rt(r,()=>n().typeId===m(t).id,s=>{var h=oe();_t(1,h,()=>ft.receive,()=>({key:"project-type"})),_t(2,h,()=>ft.send,()=>({key:"project-type"})),a(s,h)});var g=d(r,!0);f(()=>{l!==(l=m(t).id)&&(e.value=(e.__value=m(t).id)==null?"":m(t).id),w(g,` ${m(t).title??""}`)}),nt(C,[],e,()=>(m(t).id,n().typeId),s=>R(o.form,S(n).typeId=s,S(n))),a(i,b)}),a(_,y)}),st(u,_=>ht(_)),a(j,u)},$$slots:{default:!0}}),J()}var ue=c(`<h3> </h3> <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Laborum incidunt rem temporibus,
			eaque a atque iste fuga ea minima omnis rerum provident ullam laboriosam perferendis optio,
			blanditiis, quo possimus doloribus sed laudantium repudiandae vitae? Illum aut vel ipsa vero
			facilis possimus consequuntur error ea? Accusamus ab exercitationem obcaecati facere eius?</p>`,1),me=c('<button class="button button-cta"> <!></button>'),ce=c('<form action="?/update" method="POST" class="gap-inherit flex flex-col"><!> <!> <!> <!> <!> <!></form>');function Ge(D,o){H(o,!0);const k=K(),n=()=>A(p,"$tainted",k),C=()=>A(u,"$submitter",k);let O=mt(!1);const j={capture(){return{smallScale:B(O)}},restore(r){ut(O,ct(r.smallScale))}},v=Lt(o.data.form,{dataType:"json",invalidateAll:"force"}),{submitter:u,enhance:I,isTainted:_,tainted:p}=v;let y=mt(void 0);var P=ce(),i=x(P);At(i,{children:(r,g)=>{var s=ue(),h=F(s),T=x(h);f(()=>w(T,qt())),a(r,s)},$$slots:{default:!0}});var t=d(d(i,!0));re(t,M(v));var q=d(d(t,!0));de(q,M(v,{get types(){return o.data.types}}));var b=d(d(q,!0));Ut(b,M(v,{get interventionsByCategories(){return o.data.interventionsByCategories}}));var e=d(d(b,!0));Xt(e,M(v,{get siteOwnerships(){return o.data.siteOwnerships}}));var l=d(d(e,!0));return Bt(l,{children:(r,g)=>{var s=me();xt(s,L=>ut(y,ct(L)),()=>B(y)),f(()=>s.disabled=!_(n()));var h=x(s);f(()=>w(h,Ft()));var T=d(h),$=pt(()=>B(y)===C());zt(T,{icon:Rt,get busy(){return B($)}}),a(r,s)},$$slots:{default:!0}}),st(P,r=>I(r)),a(D,P),J({snapshot:j})}export{Ge as component};
