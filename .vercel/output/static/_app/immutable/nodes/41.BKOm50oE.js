import"../chunks/disclose-version.Bg9kRutz.js";import{a as t,t as _,s,d as E,f as z,b as A,c as Dt}from"../chunks/template.CYbmh4h0.js";import{p as at,a as nt,t as i,X as ct,c as C,u as k,g as B,s as gt,b as xt,d as rt}from"../chunks/runtime.DjgYXsSk.js";import{a as $}from"../chunks/render.B8uQQetn.js";import{e as ft,i as qt}from"../chunks/each.CVL6L7bf.js";import{a as Y}from"../chunks/actions.DlEPaH3k.js";import{a as W,r as ot,d as dt,s as lt,e as Ft}from"../chunks/attributes.BNVf-LtF.js";import{s as st,m as G,a as S}from"../chunks/store.9ZQN09u1.js";import{a3 as It,aK as At,a5 as mt,a6 as vt,aL as Lt,c as kt,aH as Et,B as Ot,aM as Rt,aN as Wt,d as Xt}from"../chunks/messages.CGgarydI.js";import{D as Bt}from"../chunks/dashboard-sub-header.BBUxUWnj.js";import{D as yt}from"../chunks/dashboard-sub-section.BTSYr39U.js";import{e as Z,I as $t}from"../chunks/client.dtU0Iyvs.js";import{a as Q,b as Ht}from"../chunks/input.Bzsu9ohX.js";import{D as pt,T as _t,P as jt}from"../chunks/translations-tabs.D3nqOhD0.js";import{F as J}from"../chunks/field.r2CZdIq6.js";import{r as ut}from"../chunks/ripple.DEHVMGsW.js";import{p as ht}from"../chunks/proxy.Cn1c9iIJ.js";import{b as Pt}from"../chunks/this.C2iGNKnu.js";import{p as Ct}from"../chunks/stores.yKo6NxPo.js";import{a as Kt}from"../chunks/await.CCLGkKUQ.js";import{W as wt}from"../chunks/wrench.BLQihNIX.js";import{X as Mt}from"../chunks/x.DtZFMutn.js";import{T as Nt}from"../chunks/triangle-alert.DQ258DGv.js";var Vt=_("<button> <!></button>"),zt=_("<input>"),Gt=_("<textarea></textarea>"),Jt=_("<!> <!>",1);function Qt(H,m){at(m,!0);const y=st(),v=()=>S(L,"$constraints",y),b=()=>S(R,"$form",y),O=Z(m.data,{dataType:"json",invalidateAll:!0,resetForm:!0}),{form:R,constraints:L}=O;pt(H,{form:O,action:"?/createCategory",root:(q,g=ct)=>{var j=Vt();let x;var F=A(j);i(()=>$(F,`${It()??""} `));var h=s(F);jt(h,{}),i(()=>x=W(j,x,{class:"button button-dashed rounded-full",type:"button",...g()},!0,"")),Y(j,I=>ut(I)),t(q,j)},title:q=>{var g=E(q);i(()=>$(g,At())),t(q,g)},children:(q,g)=>{_t(q,{tab:(x,F)=>{let h=()=>F==null?void 0:F().lang;var I=Jt(),l=z(I);J(l,{label:a=>{var r=E(a);i(()=>$(r,mt())),t(a,r)},children:(a,r)=>{var o=zt();ot(o);let c;i(()=>{var n,d;return c=W(o,c,{type:"text",class:"input",...(d=(n=v().translations)==null?void 0:n[h()])==null?void 0:d.description},!0,"")}),Q(o,()=>b().translations[h()].title,n=>G(R,C(b).translations[h()].title=n,C(b))),t(a,o)},$$slots:{default:!0}});var f=s(s(l,!0));J(f,{label:a=>{var r=E(a);i(()=>$(r,vt())),t(a,r)},children:(a,r)=>{var o=Gt();dt(o);let c;i(()=>{var n,d;return c=W(o,c,{class:"input",rows:"5",...(d=(n=v().translations)==null?void 0:n[h()])==null?void 0:d.description},!0,"")}),Q(o,()=>b().translations[h()].description,n=>G(R,C(b).translations[h()].description=n,C(b))),t(a,o)},$$slots:{default:!0}}),t(x,I)}})},$$slots:{default:!0}}),nt()}var Ut=_("<button> <!></button>"),Yt=_("<input>"),Zt=_("<textarea></textarea>"),te=_("<!> <!>",1),ee=_('<label class="button rounded-full"> <input type="checkbox" class="sr-only"></label>'),re=_("...",1),oe=_('<ul class="gap-gap flex flex-row"><!></ul>'),ae=_("<!> <!>",1);function ne(H,m){at(m,!0);const y=st(),v=()=>S(X,"$constraints",y),b=()=>S(L,"$form",y),O=[],R=Z(m.data,{dataType:"json",invalidateAll:!0,resetForm:!0}),{form:L,constraints:X}=R;pt(H,{form:R,action:"?/createIntervention",root:(g,j=ct)=>{var x=Ut();let F;var h=A(x);i(()=>$(h,`${It()??""} `));var I=s(h);jt(I,{}),i(()=>F=W(x,F,{class:"button button-dashed rounded-full",type:"button",...j()},!0,"")),Y(x,l=>ut(l)),t(g,x)},title:g=>{var j=E(g);i(()=>$(j,Lt())),t(g,j)},children:(g,j)=>{var x=ae(),F=z(x);_t(F,{tab:(l,f)=>{let u=()=>f==null?void 0:f().lang;var a=te(),r=z(a);J(r,{label:n=>{var d=E(n);i(()=>$(d,mt())),t(n,d)},children:(n,d)=>{var e=Yt();ot(e);let w;i(()=>{var p,T;return w=W(e,w,{type:"text",class:"input",...(T=(p=v().translations)==null?void 0:p[u()])==null?void 0:T.description},!0,"")}),Q(e,()=>b().translations[u()].title,p=>G(L,C(b).translations[u()].title=p,C(b))),t(n,e)},$$slots:{default:!0}});var o=s(s(r,!0));J(o,{label:n=>{var d=E(n);i(()=>$(d,vt())),t(n,d)},children:(n,d)=>{var e=Zt();dt(e);let w;i(()=>{var p,T;return w=W(e,w,{class:"input",rows:"5",...(T=(p=v().translations)==null?void 0:p[u()])==null?void 0:T.description},!0,"")}),Q(e,()=>b().translations[u()].description,p=>G(L,C(b).translations[u()].description=p,C(b))),t(n,e)},$$slots:{default:!0}}),t(l,a)}});var h=s(s(F,!0));J(h,{as:"fieldset",label:l=>{var f=E(l);i(()=>$(f,kt())),t(l,f)},children:(l,f)=>{var u=oe(),a=A(u);Kt(a,()=>m.projectTypes,r=>{var o=re();t(r,o)},(r,o)=>{var c=Dt(),n=z(c);ft(n,65,()=>B(o),qt,(d,e,w)=>{var p=ee(),T=A(p),P=s(T);ot(P);var D;i(()=>{$(T,`${k(e).title??""} `),D!==(D=k(e).id)&&(P.value=(P.__value=k(e).id)==null?"":k(e).id)}),Ht(O,[],P,()=>(k(e).id,b().typesIds),it=>G(L,C(b).typesIds=it,C(b))),t(d,p)}),t(r,c)}),t(l,u)},$$slots:{default:!0}}),t(g,x)},$$slots:{default:!0}}),nt()}var se=_('<div class="button nest pr-input-nest rounded-full"><button></button> <!> <button class="button button-ghost aspect-square rounded-full" data-danger="" name="delete" formaction="?/deleteIntervention"><!></button></div>'),ie=_("<input>"),le=_("<textarea></textarea>"),ue=_("<!> <!>",1);function ce(H,m){at(m,!0);const y=st(),v=()=>S(g,"$form",y),b=()=>S(Ct,"$page",y),O=()=>S(X,"$parentFormId",y),R=()=>S(K,"$parentSubmitter",y),L=()=>S(j,"$constraints",y),{formId:X,submitter:K}=m.projectInterventionsForm,q=Z(m.projectInterventionFormData,{dataType:"json",resetForm:!1}),{form:g,constraints:j}=q;let x=xt(void 0);pt(H,{form:q,action:"?/updateIntervention",root:(I,l=ct)=>{var f=se(),u=A(f);let a;var r=s(s(u,!0));wt(r,{});var o=s(r,!0),c=s(o);Pt(c,e=>gt(x,ht(e)),()=>B(x));var n=A(c),d=rt(()=>R()===B(x));$t(n,{icon:Mt,get busy(){return B(d)}}),i(()=>{a=W(u,a,{class:"fill",type:"button",...l()},!0,""),$(o,` ${v().translations[b().data.lang].title??""} `),lt(c,"form",O()),Ft(c,v().id)}),Y(f,e=>ut(e)),Y(c,e=>ut(e)),t(I,f)},title:I=>{var l=E(I);i(()=>$(l,Et())),t(I,l)},children:(I,l)=>{_t(I,{tab:(u,a)=>{let r=()=>a==null?void 0:a().lang;var o=ue(),c=z(o);J(c,{label:e=>{var w=E(e);i(()=>$(w,mt())),t(e,w)},children:(e,w)=>{var p=ie();ot(p);let T;i(()=>{var P,D;return T=W(p,T,{type:"text",class:"input",...(D=(P=L().translations)==null?void 0:P[r()])==null?void 0:D.description},!0,"")}),Q(p,()=>v().translations[r()].title,P=>G(g,C(v).translations[r()].title=P,C(v))),t(e,p)},$$slots:{default:!0}});var n=s(s(c,!0));J(n,{label:e=>{var w=E(e);i(()=>$(w,vt())),t(e,w)},children:(e,w)=>{var p=le();dt(p);let T;i(()=>{var P,D;return T=W(p,T,{class:"input",rows:"5",...(D=(P=L().translations)==null?void 0:P[r()])==null?void 0:D.description},!0,"")}),Q(p,()=>v().translations[r()].description,P=>G(g,C(v).translations[r()].description=P,C(v))),t(e,p)},$$slots:{default:!0}}),t(u,o)}})},$$slots:{default:!0}}),nt()}var de=_('<h4><button> <div class="button compact aspect-square rounded-full text-sm"><!></div></button></h4>'),me=_("<input>"),ve=_("<textarea></textarea>"),pe=_("<!> <!>",1),_e=_('<!> <hr class="mb-0"> <button class="button button-dashed self-start" data-danger="" formaction="?/deleteCategory" name="delete"><!> </button>',1),fe=_("<li><!></li>"),be=_('<ul class="gap-gap flex flex-row flex-wrap"><!> <li><!></li></ul>');function ge(H,m){at(m,!0);const y=st(),v=()=>S(K,"$form",y),b=()=>S(Ct,"$page",y),O=()=>S(q,"$constraints",y),R=()=>S(g,"$parentFormId",y),L=()=>S(j,"$parentFormSubmitter",y),X=Z(m.data,{dataType:"json"}),{form:K,constraints:q}=X,{formId:g,submitter:j,form:x}=m.projectInterventionCategoriesForm;let F=xt(void 0);yt(H,{header:I=>{pt(I,{form:X,action:"?/updateCategory",root:(u,a=ct)=>{var r=de(),o=A(r);let c;var n=A(o),d=s(n),e=A(d);wt(e,{}),i(()=>{c=W(o,c,{...a(),class:"aria-[expanded=true]:text-primary gap-input-gap group/button duration-fast hover:text-primary flex cursor-pointer flex-row items-center font-semibold transition-all"},!0,""),$(n,`${v().translations[b().data.lang].title??""} `)}),t(u,r)},title:u=>{var a=E(u);i(()=>$(a,Rt())),t(u,a)},children:(u,a)=>{var r=_e(),o=z(r);_t(o,{tab:(T,P)=>{let D=()=>P==null?void 0:P().lang;var it=pe(),bt=z(it);J(bt,{label:M=>{var U=E(M);i(()=>$(U,mt())),t(M,U)},children:(M,U)=>{var N=me();ot(N);let tt;i(()=>{var V,et;return tt=W(N,tt,{type:"text",...(et=(V=O().translations)==null?void 0:V[D()])==null?void 0:et.title,class:"input"},!0,"")}),Q(N,()=>v().translations[D()].title,V=>G(K,C(v).translations[D()].title=V,C(v))),t(M,N)},$$slots:{default:!0}});var Tt=s(s(bt,!0));J(Tt,{label:M=>{var U=E(M);i(()=>$(U,vt())),t(M,U)},children:(M,U)=>{var N=ve();dt(N);let tt;i(()=>{var V,et;return tt=W(N,tt,{rows:"5",...(et=(V=O().translations)==null?void 0:V[D()])==null?void 0:et.description,class:"input"},!0,"")}),Q(N,()=>v().translations[D()].description,V=>G(K,C(v).translations[D()].description=V,C(v))),t(M,N)},$$slots:{default:!0}}),t(T,it)}});var c=s(s(o,!0)),n=s(s(c,!0));Pt(n,p=>gt(F,ht(p)),()=>B(F));var d=A(n),e=rt(()=>L()===B(F));$t(d,{icon:Nt,get busy(){return B(e)}});var w=s(d,!0);i(()=>$(w,` ${Ot()??""}`)),i(()=>{lt(n,"form",R()),Ft(n,v().id)}),t(u,r)},$$slots:{default:!0}})},children:(I,l)=>{var f=be(),u=A(f);ft(u,71,()=>m.projectInterventionForms,(o,c)=>k(o).id,(o,c,n)=>{var d=fe(),e=A(d);ce(e,{get projectInterventionFormData(){return k(c)},get projectInterventionsForm(){return m.projectInterventionsForm}}),t(o,d)});var a=s(s(u,!0)),r=A(a);ne(r,{get data(){return m.projectInterventionCreateForm},get projectTypes(){return m.projectTypes}}),t(I,f)},$$slots:{default:!0}}),nt()}var xe=_(`<h2> </h2> <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatibus quidem doloribus nisi
		consequatur amet blanditiis sed alias. Eum, numquam magnam!</p>`,1),Fe=_('<!> <form class="sr-only" method="POST"></form> <form class="sr-only" method="POST"></form> <!> <!>',1);function Me(H,m){at(m,!0);const y=st(),v=()=>S(L,"$categoriesFormId",y),b=()=>S(q,"$interventionsFormId",y),O=Z(m.data.projectInterventionsCategoriesForm,{invalidateAll:!0}),{enhance:R,formId:L}=O,X=Z(m.data.projectInterventionsForm,{invalidateAll:!0}),{enhance:K,formId:q}=X;var g=Fe(),j=z(g);Bt(j,{children:(l,f)=>{var u=xe(),a=z(u),r=A(a);const o=rt(()=>Wt()),c=rt(()=>Xt().toLocaleLowerCase());i(()=>$(r,`${B(o)} & ${B(c)}`)),t(l,u)},$$slots:{default:!0}});var x=s(s(j,!0)),F=s(s(x,!0)),h=s(s(F,!0));ft(h,71,()=>m.data.projectInterventionAndCategoryForms,(l,f)=>k(k(l))[0].id,(l,f,u)=>{let a=()=>k(k(f))[0],r=()=>k(k(f))[1];var o=rt(()=>m.data.projectInterventionForms.filter(c=>c.data.categoryId===a().data.id));ge(l,{projectInterventionsForm:X,projectInterventionCategoriesForm:O,get data(){return a()},get projectInterventionForms(){return B(o)},get projectInterventionCreateForm(){return r()},get projectTypes(){return m.data.projectTypes}})});var I=s(s(h,!0));yt(I,{class:"border-dim border border-dashed bg-transparent",children:(l,f)=>{Qt(l,{get data(){return m.data.projectInterventionCategoryCreateForm}})},$$slots:{default:!0}}),i(()=>{lt(x,"id",v()),lt(F,"id",b())}),Y(x,l=>R(l)),Y(F,l=>K(l)),t(H,g),nt()}export{Me as component};
