import"../chunks/disclose-version.Bg9kRutz.js";import{c as q,a as n,f as F,t as b,b as l,s as a,d as it}from"../chunks/template.CYbmh4h0.js";import{p as D,t as N,g as w,u,a as E,d as H,c as O,s as et,b as rt}from"../chunks/runtime.DjgYXsSk.js";import{s as X,a as L,d as _t}from"../chunks/render.B8uQQetn.js";import{p as at}from"../chunks/proxy.Cn1c9iIJ.js";import{e as T,i as G}from"../chunks/each.CVL6L7bf.js";import{s as tt,r as Z,a as bt}from"../chunks/attributes.BNVf-LtF.js";import{s as ht}from"../chunks/style.iv2mhl8q.js";import{t as st,f as $t,e as yt,s as kt,i as wt}from"../chunks/index.B9DhiAzX.js";import{b as ot}from"../chunks/this.C2iGNKnu.js";import{l as J,s as R,p as jt,r as Pt}from"../chunks/props.B2871YNw.js";import{s as Q,m as U,a as B}from"../chunks/store.9ZQN09u1.js";import{az as Nt,n as zt,bc as Mt,F as It,c as St,bd as At}from"../chunks/messages.CGgarydI.js";import{I as lt,e as Rt}from"../chunks/client.dtU0Iyvs.js";import{p as pt}from"../chunks/presets.B2xsBq4v.js";import{f as qt}from"../chunks/index.DpRu7_UM.js";import{i as ct}from"../chunks/if.C12WoQaB.js";import{a as K}from"../chunks/actions.DlEPaH3k.js";import{c as Ft,b as dt,a as Ot}from"../chunks/input.Bzsu9ohX.js";import{l as Bt}from"../chunks/link.Dy_8JwlS.js";import{O as nt}from"../chunks/optional-text.CG4oIxAw.js";import{r as V}from"../chunks/ripple.DEHVMGsW.js";import{M as Ct}from"../chunks/constants.Dum3VLoP.js";import{i as Lt}from"../chunks/url.CMTy2O2u.js";import{d as W}from"../chunks/misc.BGa3BRog.js";import{I as Y}from"../chunks/Icon.Be5s3T4S.js";import{a as ut}from"../chunks/await.CCLGkKUQ.js";import{s as gt}from"../chunks/snippet.CJwMoSRa.js";import{s as Tt}from"../chunks/class.DowJDtNg.js";import{c as Dt}from"../chunks/utilities.C-5SdYIA.js";import{A as Et}from"../chunks/arrow-right.XWDlFrO6.js";import{X as Ht}from"../chunks/x.DtZFMutn.js";function Gt(c,t){const e=J(t,["children","$$slots","$$events","$$legacy"]);Y(c,R({name:"award"},()=>e,{iconNode:[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526"}],["circle",{cx:"12",cy:"8",r:"6"}]],children:(i,p)=>{var r=q(),o=F(r);X(o,W(t),{}),n(i,r)},$$slots:{default:!0},$$legacy:!0}))}function Kt(c,t){const e=J(t,["children","$$slots","$$events","$$legacy"]);Y(c,R({name:"heart"},()=>e,{iconNode:[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}]],children:(i,p)=>{var r=q(),o=F(r);X(o,W(t),{}),n(i,r)},$$slots:{default:!0},$$legacy:!0}))}function Vt(c,t){const e=J(t,["children","$$slots","$$events","$$legacy"]);Y(c,R({name:"image"},()=>e,{iconNode:[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]],children:(i,p)=>{var r=q(),o=F(r);X(o,W(t),{}),n(i,r)},$$slots:{default:!0},$$legacy:!0}))}function Xt(c,t){const e=J(t,["children","$$slots","$$events","$$legacy"]);Y(c,R({name:"refresh-cw"},()=>e,{iconNode:[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}],["path",{d:"M21 3v5h-5"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}],["path",{d:"M8 16H3v5"}]],children:(i,p)=>{var r=q(),o=F(r);X(o,W(t),{}),n(i,r)},$$slots:{default:!0},$$legacy:!0}))}function Zt(c,t){const e=J(t,["children","$$slots","$$events","$$legacy"]);Y(c,R({name:"search"},()=>e,{iconNode:[["circle",{cx:"11",cy:"11",r:"8"}],["path",{d:"m21 21-4.3-4.3"}]],children:(i,p)=>{var r=q(),o=F(r);X(o,W(t),{}),n(i,r)},$$slots:{default:!0},$$legacy:!0}))}var Jt=b('<img class="fill object-cover">'),Qt=b('<div class="fill opacity-dimmest flex items-center justify-center"><!></div>'),Ut=b('<li class="button rounded-full backdrop-blur-sm"><!></li>'),Wt=b('<article class="group/card hover:bg-card-accent bg-card relative h-full w-full rounded-lg transition-all"><div class="inset-padding flex flex-col items-stretch justify-end rounded-[calc(var(--radius-lg)-var(--spacing-padding))] group-data-[view-mode=masonry]/explore:absolute"><!> <div class="p-card-padding pt-2xl text-base-dim group-hover/card:text-base-accent rounded-inherit after:from-overlay after:rounded-inherit after:opacity-soft after:duraiton-medium relative flex flex-col transition-all after:absolute after:inset-0 after:bg-gradient-to-t after:bg-[0px_100px] after:bg-no-repeat after:transition-all after:ease-out group-hover/card:after:bg-[0px_0px] group-hover/card:after:opacity-100"><div class="pointer-events-none z-1"><menu class="gap-input-group-gap pt-sm compact pb-sm flex flex-row flex-wrap items-start text-xs *:pointer-events-auto"><button class="button rounded-full backdrop-blur-sm"> <!> <input type="checkbox" class="sr-only"></button> <button class="button aspect-square rounded-full backdrop-blur-sm"><!></button></menu> <h1 class="group-hover/card:text-base-accent text-sm font-bold"><!></h1> <p class="text-base-dim text-sm font-medium"><!></p> <ul class="compact gap-input-group-gap pt-sm flex flex-row overflow-x-auto text-xs"></ul></div></div></div> <a> </a></article>');function Yt(c,t){D(t,!0);let e=jt(t,"project",7);var s=Wt(),i=l(s),p=l(i);ct(p,()=>e().bannerStorageName,M=>{var x=Jt();N(()=>tt(x,"src",Lt(e().bannerStorageName,{resize:{height:480}}))),N(()=>tt(x,"alt",`Banner image for ${e().title??""}`)),n(M,x)},M=>{var x=Qt(),mt=l(x);Vt(mt,{class:"size-[2em] stroke-width-[1]"}),n(M,x)});var r=a(a(p,!0)),o=l(r),m=l(o),j=l(m),g=l(j);g.nodeValue="0 ";var v=a(g);Kt(v,{});var h=a(a(v,!0));Z(h);var S=a(a(j,!0)),$=l(S);Gt($,{});var y=a(a(m,!0)),C=l(y),z=H(()=>Nt());nt(C,{get text(){return e().title},get fallback(){return w(z)}});var d=a(a(y,!0)),f=l(d),_=H(()=>zt());nt(f,{get text(){return e().summary},get fallback(){return w(_)}});var P=a(a(d,!0));T(P,73,()=>e().exemplarityMarkers,G,(M,x,mt)=>{var vt=Ut(),xt=l(vt);nt(xt,{get text(){return u(x).shortTitle}}),n(M,vt)});var k=a(a(i,!0));let A;N(()=>A=bt(k,A,{class:"fill user-select-none text-transparent",...Bt(`/projects/${e().id}`)},!0,""));var I=l(k);N(()=>{tt(r,"data-mode",Ct.DARK),L(I,e().title)}),Ft(h,()=>e().liked,M=>e().liked=M),K(k,(M,x)=>V(M,x),()=>({blur:50})),n(c,s),E()}var te=b('<legend class="text-base-dim px-[0.5em] text-xs font-semibold"><!></legend>'),ee=b("<fieldset><!> <!></fieldset>");function ft(c,t){D(t,!0);var e=ee();st(5,e,()=>$t,()=>({y:-6})),N(()=>Tt(e,Dt("bg-card-soft p-gap gap-gap flex flex-col items-stretch self-stretch rounded-lg",t.class)));var s=l(e);ct(s,()=>t.legend,p=>{var r=te(),o=l(r);gt(o,()=>t.legend),n(p,r)});var i=a(a(s,!0));gt(i,()=>t.children),n(c,e),E()}var re=b('<label class="button button-dashed rounded-full"> <input type="checkbox" class="sr-only" name="interventions"></label>'),ae=b("...",1),se=b('<ul class="gap-input-group-gap compact flex flex-col items-start"><!></ul>');function oe(c,t){D(t,!0);const e=Q(),s=()=>B(t.form,"$form",e),i=[];ft(c,{legend:r=>{var o=it(r);N(()=>L(o,Mt())),n(r,o)},children:(r,o)=>{var m=se(),j=l(m);ut(j,()=>t.lists.interventionsByCategories,g=>{var v=ae();n(g,v)},(g,v)=>{var h=q(),S=F(h);T(S,65,()=>w(v),G,($,y,C)=>{var z=q(),d=F(z);T(d,65,()=>u(y).interventions,G,(f,_,P)=>{var k=re(),A=l(k),I=a(A);Z(I);var M;N(()=>{L(A,`${u(_).title??""} `),M!==(M=u(_).id)&&(I.value=(I.__value=u(_).id)==null?"":u(_).id)}),K(k,x=>V(x)),dt(i,[],I,()=>(u(_).id,s().interventions),x=>U(t.form,O(s).interventions=x,O(s))),n(f,k)}),n($,z)}),n(g,h)}),n(r,m)},$$slots:{default:!0}}),E()}var ne=b('<label class="button button-dashed rounded-full"> <input type="checkbox" class="sr-only" name="markers"></label>'),le=b("...",1),ie=b('<ul class="gap-input-group-gap compact flex flex-col items-start"><!></ul>');function ce(c,t){D(t,!0);const e=Q(),s=()=>B(t.form,"$form",e),i=[];ft(c,{legend:r=>{var o=it(r);N(()=>L(o,It())),n(r,o)},children:(r,o)=>{var m=ie(),j=l(m);ut(j,()=>t.lists.exemplarityMarkersBycategories,g=>{var v=le();n(g,v)},(g,v)=>{var h=q(),S=F(h);T(S,65,()=>w(v),G,($,y,C)=>{var z=q(),d=F(z);T(d,65,()=>u(y).markers,G,(f,_,P)=>{var k=ne(),A=l(k),I=a(A);Z(I);var M;N(()=>{L(A,`${u(_).title??""} `),M!==(M=u(_).id)&&(I.value=(I.__value=u(_).id)==null?"":u(_).id)}),K(k,x=>V(x)),dt(i,[],I,()=>(u(_).id,s().markers),x=>U(t.form,O(s).markers=x,O(s))),n(f,k)}),n($,z)}),n(g,h)}),n(r,m)},$$slots:{default:!0}}),E()}var de=(c,t,e)=>U(e.form,O(t).search=void 0,O(t)),ue=b('<button class="button button-ghost aspect-square" type="submit"><!></button>'),fe=b('<div class="input-group text-md rounded-full"><!> <input> <div class="input-peer flex-row-reverse"><button class="button aspect-square" type="submit"><!></button> <!></div></div>');function me(c,t){D(t,!0);const e=Q(),s=()=>B(t.form,"$form",e),i=()=>B(t.constraints,"$constraints",e),p=()=>B(t.tainted,"$tainted",e),r=()=>B(t.submitter,"$submitter",e);let o=rt(void 0),m=rt(void 0);var j=fe(),g=l(j);Zt(g,{});var v=a(a(g,!0));Z(v);let h;var S=a(a(v,!0)),$=l(S);ot($,d=>et(m,at(d)),()=>w(m)),N(()=>{var d;return $.disabled=!t.isTainted((d=p())==null?void 0:d.search)});var y=l($),C=H(()=>w(m)===r());lt(y,{icon:Et,get busy(){return w(C)}});var z=a(a($,!0));ct(z,()=>s().search,d=>{var f=ue();st(3,f,()=>kt,()=>({start:.5,duration:250,easing:yt,opacity:0})),ot(f,k=>et(o,at(k)),()=>w(o)),f.__click=[de,s,t];var _=l(f),P=H(()=>w(o)===r());lt(_,{icon:Ht,get busy(){return w(P)}}),K(f,k=>V(k)),n(d,f)}),N(()=>h=bt(v,h,{type:"search",name:"search",...i().search,class:"input"},!0,"")),Ot(v,()=>s().search,d=>U(t.form,O(s).search=d,O(s))),K($,d=>V(d)),n(c,j),E()}_t(["click"]);var ve=b('<label class="button button-dashed compact rounded-full"> <input type="checkbox" class="sr-only" name="types"></label>'),pe=b("...",1),ge=b('<ul class="gap-input-group-gap flex flex-col items-start"><!></ul>');function _e(c,t){D(t,!0);const e=Q(),s=()=>B(t.form,"$form",e),i=[];ft(c,{legend:r=>{var o=it(r);N(()=>L(o,St())),n(r,o)},children:(r,o)=>{var m=ge(),j=l(m);ut(j,()=>t.lists.types,g=>{var v=pe();n(g,v)},(g,v)=>{var h=q(),S=F(h);T(S,65,()=>w(v),G,($,y,C)=>{var z=ve(),d=l(z),f=a(d);Z(f);var _;N(()=>{L(d,`${u(y).title??""} `),_!==(_=u(y).id)&&(f.value=(f.__value=u(y).id)==null?"":u(y).id)}),K(z,P=>V(P)),dt(i,[],f,()=>(u(y).id,s().types),P=>U(t.form,O(s).types=P,O(s))),n($,z)}),n(g,h)}),n(r,m)},$$slots:{default:!0}}),E()}var be=(c,t)=>{var e;(e=w(t))==null||e.requestSubmit()},xe=b('<form method="GET" class="w-sidebar-width pr-gap gap-gap top-sticky-top sticky flex max-h-full flex-col items-stretch self-start text-sm"><!> <!> <!> <!></form>');function he(c,t){let e=Pt(t,["$$slots","$$events","$$legacy","lists"]),s=rt(void 0);var i=xe();ot(i,j=>et(s,at(j)),()=>w(s)),i.__change=[be,s];var p=l(i);me(p,R(()=>e));var r=a(a(p,!0));_e(r,R(()=>e,{get lists(){return t.lists}}));var o=a(a(r,!0));oe(o,R(()=>e,{get lists(){return t.lists}}));var m=a(a(o,!0));ce(m,R(()=>e,{get lists(){return t.lists}})),n(c,i)}_t(["change"]);var $e=b('<li class="relative col-span-1 row-span-[var(--rowspan)] flex h-full w-full flex-col group-data-[view-mode=masonry]/explore:aspect-[2/var(--rowspan)]"><!></li>'),ye=b('<div class="px-padding mb-lg flex flex-1 flex-row"><!> <section class="gap-lg flex flex-1 flex-col"><ul class="gap-gap flex flex-1 grid-flow-dense grid-cols-[repeat(auto-fill,minmax(var(--width-xs),1fr))] flex-col place-content-start group-data-[view-mode=masonry]/explore:grid"></ul> <menu class="gap-input-group-gap flex flex-row self-center"><button disabled type="submit" class="button button-dashed rounded-full text-sm" name="size" value="50"><!> </button></menu></section></div>');function er(c,t){D(t,!0);const e=Q(),s=()=>B(r,"$formId",e),i=()=>B(o,"$submitter",e),p=Rt(t.data.filtersForm),{formId:r,submitter:o}=p;let m=rt(void 0);var j=ye(),g=l(j);he(g,R(p,{get lists(){return t.data.lists}}));var v=a(a(g,!0)),h=l(v);T(h,95,()=>t.data.result,(d,f)=>u(d).id,(d,f,_)=>{var P=$e();const k=H(()=>2+Math.round(Math.random()*2));wt(P,()=>qt,()=>({duration(I){return 150+I/5}})),st(5,P,()=>pt.receive,()=>({key:u(f).id,delay:u(_)*25})),st(6,P,()=>pt.send,()=>({key:u(f).id}));var A=l(P);Yt(A,{get project(){return u(f)}}),N(()=>ht(P,"--rowspan",w(k))),n(d,P)});var S=a(a(h,!0)),$=l(S);ot($,d=>et(m,at(d)),()=>w(m));var y=l($),C=H(()=>i()===w(m));lt(y,{icon:Xt,get busy(){return w(C)}});var z=a(y,!0);N(()=>L(z,At())),N(()=>tt($,"form",s())),n(c,j),E()}export{er as component};
